<!doctype html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feedback form</title> 
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Aboreto&family=Arya:wght@400;700&display=swap" rel="stylesheet"> 
	<link href="https://fonts.googleapis.com/css2?family=Changa+One:ital@0;1&family=Khand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Belanosima:wght@400;600;700&display=swap" rel="stylesheet"> 
	<link href="https://fonts.googleapis.com/css2?family=Belanosima:wght@400;600;700&family=Italiana&family=Ovo&display=swap" rel="stylesheet">

<style>
h1{
    color: #013f56; 
    text-align: center; 
} 
    p{ 
    font-weight: bold; 
    text-align: center; 
    font-size: 18px; 
} 
input{
    border-radius: 5px; 
}
ul li{
    display: inline-block; 
    padding: 8px; 
    font-weight: bold; 
} 
body{
    background-image: url("background.png"); 
    background-size: cover; 
} 
select{
    margin-left: 700px; 
} 
</style>
</head> 
<body> 
    <!--Header and navigation bar-->
	<header id="header">  
        <div>
        <nav class="homenavul homenav"> 
            <ul class="homeli homenavul"> 
                <li class="golefft homeli"><a href="home.html#home" class="homea">Home</a></li> 
                <li class="homeli"><a href="gallery.html" class="homea">Gallery</a></li> 
                <li class="homeli"><a href="shop.html" class="homea">Shop</a></li>
                <li class="homeli"><a href="userprofile.html" class="homea">User Profile</a></li> 
                <li><img class="logo" style="margin-top: -55px;" src="logo.png" alt="logo"> </li>
                <li class="goleft homeli"><a href="feedback.html" class="homea">Feedback</a></li>
                <li class="homeli"><a href="sitemap.html" class="homea">Sitemap</a></li> 
                <li class="homeli"><a href="team.html" class="homea">Team</a></li> 
            </ul>
        </nav> 
    </div> 
    </header> <br><br><br>
    <h1> Feedback Form </h1> 
    <!--emailing the content sof the form-->
    <form id="feed" action="mailto:krithiga.20230037@iit.ac.lk" method="post" enctype="text/plain"> 
        <div class="div1">
            <!--Adding required fields-->
        <p>
        <label id="fname1" for="name">Enter your name: </label> 
        <input type="text" id="name" name="name" placeholder="Enter names here" required> </p>  
        <p>
            <label id="email1" for="email">Enter your email: </label> 
            <input type="email" id="email" name="email" placeholder="Enter email here" required> </p> 
            <br>
            <p id="visi">Was this your first time visiting?</p>
            <p><label for="visityes">Yes </label><input type="radio" id="visityes" name="Was this your first time visiting?" value="yes"> 
                <label for="visitno">No </label><input type="radio" id="visitno" name="Was this your first time visiting?" value="no"></p><br>
            <p id="navi">Was this website easy enough to navigate through? </p>
                <p><label for="navyes">Yes </label><input type="radio" id="navyes" name="Was this website easy enough to navigate through?" value="yes"> 
                    <label for="navno">No </label><input type="radio" id="navno" name="Was this website easy enough to navigate through?" value="no"></p> <br>
            <p><label for="improve" id="improve1">If "No", suggest any improvements for the future: </label></p> 
            <p><textarea placeholder="Add your message here" id="improve" name="If 'No', suggest any improvements for the future" rows="3" cols="30"></textarea> </p> <br> 
            <p id="satis">How satisfied are you with our services? Choose from 0 to 10, with 1 being "Not satisfied at all!" and 10 being "Extremely satisfied!"</p> 
            <div class="feeddiv2">
                <ul>
                <li><label for="one">1</label></li>
                <li><label for="two">2</label> </li>
                <li><label for="three">3</label> </li>
                <li><label for="four">4</label> </li>
                <li><label for="five">5</label> </li>
                <li><label for="six">6</label> </li>
                <li><label for="seven">7</label> </li>
                <li><label for="eight">8</label> </li>
                <li><label for="nine">9</label> </li>
                <li><label for="ten">10</label></li>
            </ul></div> 
                <p><input type="radio" id="one" name="How satisfied are you with our services?" value="1">
                <input type="radio" id="two" name="How satisfied are you with our services?" value="2"> 
                <input type="radio" id="three" name="How satisfied are you with our services?" value="3"> 
                <input type="radio" id="four" name="How satisfied are you with our services?" value="4"> 
                <input type="radio" id="five" name="How satisfied are you with our services?" value="5"> 
                <input type="radio" id="six" name="How satisfied are you with our services?" value="6"> 
                <input type="radio" id="seven" name="How satisfied are you with our services?" value="7"> 
                <input type="radio" id="eight" name="How satisfied are you with our services?" value="8"> 
                <input type="radio" id="nine" name="How satisfied are you with our services?" value="9"> 
                <input type="radio" id="ten" name="How satisfied are you with our services?" value="10"> </p>

    </div> 
    <p>Would you recommend our services?</p> 
    <p><label for="recyes">Yes </label><input type="radio" id="recyes" name="Would you recommend our services?" value="yes"> 
        <label for="recno">No </label><input type="radio" id="recno" name="Would you recommend our services?" value="no"></p> 
    <p><label for="update">Would you like to receive updates about the webiste or any offers?</label></p>
    <select name="Would you like to receive updates about the webiste or any offers?" id="update" size="3" required>
        <option value="email">Yes- via email</option> 
        <option value="sms">Yes- via SMS</option>
        <option value="no">No </option>
    </select><br> 
    <p><label for="addit">Do you have any other other additional questions or requests?</label> </p> 
    <p><textarea placeholder="Add your message here" id="addit" name="Do you have any other other additional questions or requests?" rows="6" cols="30"></textarea> </p> <br> 
    <button type="button" id="previewbutton" style="margin-left: 710px; font-size: 17px; font-weight: bold; color: rgb(15, 40, 128); background-color: white; border-radius: 50px; border: none;">Preview</button> 
    </form> 
    <div class="rectangle4" style="margin-top: 60px;"> 
        <div class="kdiv6">
            <ul class="footerli2" style="margin-top: -10px;">
                <li class="footerli2" ><div class="kcircle"><img src="facebook.svg" class="imgsvg" alt="facebook"></div></li>
                <li class="footerli2" ><div class="kcircle"><img src="linkedin.svg" class="imgsvg" alt="linkedin"></div></li>
                <li class="footerli2" ><div class="kcircle"><img src="instagram.svg" class="imgsvg" alt="instagram"></div></li>
                
            </ul>
        </div>
        <div class="kdiv4">
            <ul class="footerli" style="margin-top: -20px; margin-left: 10px;">
                <li class="footerli"><a href="home.html#home" class="footera">Home</a></li> 
                <li class="footerli"><a href="gallery.html" class="footera">Gallery</a></li>
                <li class="footerli"><a href="shop.html" class="footera">Shop</a></li>
                <li class="footerli"><a href="userprofile.html" class="footera">User profile</a></li>
                <li class="footerli"><a href="feedback.html" class="footera">Feedback</a></li>
                <li class="footerli"><a href="sitemap.html" class="footera">Sitemap</a></li>
                <li class="footerli"><a href="team.html" class="footera">Team</a></li> 
            </ul>
        </div> 
        <div class="kdiv5" style="width: 800px; height: 30px;">
            <ul class="footerli3" style="margin-top: -20px;">
                <li class="footerli3"><a href="pageeditor_student1.html" class="editora" target="_blank">Student 1</a><li class="kborder"></li>
                <li class="footerli3"><a href="pageeditor_student2.html" class="editora" target="_blank">Student 2</a><li class="kborder"></li>
                <li class="footerli3"><a href="pageeditor_student3.html" class="editora" target="_blank">Student 3</a><li class="kborder"></li>
                <li class="footerli3"><a href="pageeditor_student4.html" class="editora" target="_blank">Student 4</a></li>
                </ul>
              
        </div> 
        <div class="kdiv7"> 
            <p class="kp1"> If you think the ocean isn't important imagine earth without it.</p> 
            <p class="kp1" style="font-size: 18px; opacity: 0.6; margin-top: -10px;"> Visit our website for more information</p>
            
    
        </div> 
    </div>
    <script>
        var previewWindow; 
        
        //creating function preview after clicking preview button 
        function previewform() {
            //Obtaining values of the form filled 
            var fname=document.getElementById('name').value;
            var email=document.getElementById('email').value; 

            var visit=document.getElementsByName('Was this your first time visiting?');   
            var selectedvisit; 
            for(var i=0; i<visit.length; i++){
                if(visit[i].checked){
                    selectedvisit=visit[i].value; 
                    break; 
                }
            }
            var nav=document.getElementsByName('Was this website easy enough to navigate through?'); 
            var selectednav; 
            for(var i=0; i<nav.length; i++){
                if(nav[i].checked){
                    selectednav=nav[i].value; 
                    break; 
                }
            } 
            
            var improve=document.getElementById('improve').value; 
            var num=document.getElementsByName('How satisfied are you with our services?'); 
            var selectednum; 
            for(var i=0; i<num.length; i++){
                if(num[i].checked){
                    selectednum=num[i].value; 
                    break; 
                }
            } 
            var rec=document.getElementsByName('Would you recommend our services?');  
            var selectedrec; 
            for(var i=0; i<rec.length; i++){
                if(rec[i].checked){
                    selectedrec=rec[i].value; 
                    break; 
                }
            } 
            var update=document.getElementById('update'); 
            var updated=update.value; 
            var addit=document.getElementById('addit').value; 


            
    
            //Adding error class so that when mandatory fields are not filled a red mark appears beside the fields 
            if(fname.trim()==='' || email.trim()==='' || !(selectednav) || !(selectedvisit) || !(selectednum) || (selectednav==="no" && improve.trim()==='')){ 
                if(fname.trim()===''){
                    document.getElementById('fname1').classList.add('errorrad'); 
                } 
                if(email.trim()===''){
                    document.getElementById('email1').classList.add('errorrad'); 
                } 
                if(!(selectednav)){
                    document.getElementById('navi').classList.add('errorrad');
                }if(!(selectedvisit)){
                    document.getElementById('visi').classList.add('errorrad');
                }if(!(selectednum)){
                    document.getElementById('satis').classList.add('errorrad');
                }if(selectednav==="no" && improve.trim()===''){
                    document.getElementById('improve1').classList.add('errorrad');
                }if(selectednav==="yes" && improve.trim()===''){
                    document.getElementById('improve1').classList.remove('errorrad');
                } 
                alert("Please fill out all the mandatory fields"); 
                return; 
            } 

            //Email validation using regex method 
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Please enter a valid email address.');
                return; 
            }

            //Openeing the preview dispaly on a new window 
            previewWindow=window.open(); 
            //writing the content on the new window 
            previewWindow.document.body.innerHTML="<html><head></head><body>"+
            "<h2>Form Preview</h2>"+ 
            "<p><strong>Name:</strong> "+fname+"<p>"+
                "<p><strong>Email:</strong> "+email+"<p>"+
                "<p><strong>Is this your first time visiting?</strong> "+selectedvisit+"<p>"+
                "<p><strong>Was it easy to navigate this website?</strong> "+selectednav+" <p>"+
                "<p><strong>If no suggest any improvement for the future:</strong> "+improve+" <p>"+
                "<p><strong>How satisfied were you with our services:</strong> "+selectednum+" <p>"+ 
                "<p><strong>Would you recommend our services:</strong> "+selectedrec+"<p>"+
                "<p><strong>Would you like to receive updates:</strong> "+updated+" <p>"+
                "<p><strong>Do you have any other additional requests or questions:</strong> "+addit+" <p>"+ 
                "<button id='editbutton'>Edit</button>"+ 
                "&nbsp;"+ 
                "<button id='submitbutton'>Submit</button>";   
                //Adding new buttons for submitting and editing 
                previewWindow.document.getElementById('editbutton').addEventListener('click',editform);
                previewWindow.document.getElementById('submitbutton').addEventListener('click',submitform); 
            }  
            //when clicking the edit button the new window will close and go to edit window 
            function editform() { 
                previewWindow.close();  
            } 
            //display form submitted and amils the contents 
            function submitform(){ 
                var form=document.getElementById("feed"); 
                form.submit(); 
                previewWindow.alert('Form submitted successfully');  
                previewWindow.close(); 
                //After everything is finished Thank you for fillinf form is displayed on top 
                document.body.innerHTML="<html><head></head><body><header id='header'><div><nav class='homenavul homenav'><ul class='homeli homenavul'><li class='golefft homeli'><a href='home.html#home' class='homea'>Home</a></li><li class='homeli'><a href='coursework_sample.html' class='homea'>Gallery</a></li>"+
                    "<li class='homeli'><a href='https://www.pinterest.com/pin/242490761178346808/' class='homea'>Shop</a></li><li class='homeli'><a href='https://www.luxaqua.tech/' class='homea'>User Profile</a></li><li><img class='logo' src='logo.png' alt='logo'> </li>"+
                    "<li class='goleft homeli'><a href='feedback.html' class='homea'>Feedback</a></li><li class='homeli'><a href='https://www.luxaqua.tech/' class='homea'>Sitemap</a></li><li class='homeli'><a href='https://www.luxaqua.tech/' class='homea'>Team</a></li>"+  
                    "</ul></nav></div></header>><br><br><br><p>Thankyou for filling out the form</p>"+
                    "<div class='rectangle4' style='margin-top: 250px; width: 1520px;'><div class='kdiv6'><ul class='footerli2' style='margin-top: -10px;'>"+
                    "<li class='footerli2' ><div class='kcircle'><img src='facebook.svg' class='imgsvg' alt='facebook'></div></li><li class='footerli2' ><div class='kcircle'><img src='linkedin.svg' class='imgsvg' alt='linkedin'></div></li>"+
                    "<li class='footerli2' ><div class='kcircle'><img src='instagram.svg' class='imgsvg' alt='instagram'></div></li></ul></div>"+
                    "<div class='kdiv4'><ul class='footerli' style='margin-top: -20px; margin-left: 10px;'>"+
                "<li class='footerli'><a href='home.html#home' class='footera'>Home</a></li> <li class='footerli'><a href='gallery.html' class='footera'>Gallery</a></li>"+
                "<li class='footerli'><a href='shop.html' class='footera'>Shop</a></li>"+
                "<li class='footerli'><a href='userprofile.html' class='footera'>User profile</a></li>"+
                "<li class='footerli'><a href='feedback.html' class='footera'>Feedback</a></li>"+
                "<li class='footerli'><a href='sitemap.html' class='footera'>Sitemap</a></li>"+
                "<li class='footerli'><a href='team.html' class='footera'>Team</a></li></ul></div>"+ 
                "<div class='kdiv5'><ul class='footerli3' style='margin-top: -20px;'>"+
                "<li class='footerli3'><a href='pageeditor_student1.html' class='editora' target='_blank'>Student 1</a><li class='kborder'></li>"+
                "<li class='footerli3'><a href='pageeditor_student2.html' class='editora' target='_blank'>Student 2</a><li class='kborder'></li>"+
                "<li class='footerli3'><a href='pageeditor_student3.html' class='editora' target='_blank'>Student 3</a><li class='kborder'></li>"+
                "<li class='footerli3'><a href='pageeditor_student4.html' class='editora' target='_blank'>Student 4</a></li></ul></div>"+ 
        "<div class='kdiv7'><p class='kp1'> If you think the ocean isn't important imagine earth without it.</p>"+
        "<p class='kp1' style='font-size: 18px; opacity: 0.6; margin-top: -10px;'> Visit our website for more information</p></div></div>"
                      
            } 
            document.getElementById('previewbutton').addEventListener('click', previewform); 


            
            //navigation bar changing colour when user starts scrollling 
	var lastscroll=0; 
	window.addEventListener('scroll',function (){
		var scrollpos = window.scrollY; 
		if(scrollpos>100){ 
			var color="#007ba7";  //blue colour when moving   
		}else{
			var color="rgba(255,255,255,0)" //transparent colour when going back 
		}
		lastscroll= scrollpos <= 0 ? 0 : scrollpos; //setting where last scroll position was 
		document.getElementById('header').style.backgroundColor=color; //setting color 
	}) 

	//making active class work when clicking on link
	document.addEventListener('DOMContentLoaded', function() { //when window loads above functions are called 
  	setactive();
  	setactiveurl();
	});
	
	function setactive() {
  		var links = document.querySelectorAll('nav ul li a'); //decalring all navigation bar links in array 
  		links.forEach(function(link) {
    		link.addEventListener('click', function() { //Listens for click event 
      			links.forEach(function(link) {
        			link.classList.remove('active'); //remove active class from links that doesn't have click 
      			});
      			this.classList.add('active'); //adding active class for the link that has been clicked 
    		});
  		});
	}

	//making sure that the active link stays without disappearing 
	function setactiveurl() {
  		var currentloc = window.location.href;
  		var links = document.querySelectorAll('nav ul li a');
  		links.forEach(function(link) {
    		if (link.href === currentloc) {
      			link.classList.add('active');
    		}
  		});
	}
    </script>
</body> 
</html>